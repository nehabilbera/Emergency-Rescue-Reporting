<div class="container">
  <div class="attendanceSystem">
    <form (ngSubmit)="submitAttendance()" #attendanceForm="ngForm">
      <fieldset>
        <legend>Employee's Attendance</legend>
        <br>
        <label for="employeeId">Employee Id:</label>
        <input type="number" id="employeeId" name="employeeId" [(ngModel)]="newAttendance.employeeId" required>
        <br><br>
        <button type="submit" [disabled]="!attendanceForm.valid">Submit</button>
      </fieldset>
    </form>
  </div>

  <br><br>

  <div *ngIf="employees.length > 0 && showDisplay && counter!==5"   class="display">
    <div>
      <table>
        <tr>
          <td>
            <span><b>Employee Id: </b>{{ employees[0]?.employee?.employeeId }}</span>
            <br>
            <span><b>Employee Name: </b>{{ employees[0]?.employee?.name }}</span>
          </td>
        </tr>
      </table>
    </div>
    <br>
    <button (click)="onToggleCheckInOut()">Attedance</button>
    <br><br>
    <div class="count" style="background-color: rgb(202, 198, 198); border: 1px solid black; width: 7%; border-radius: 5px; padding: 2px;">Clear({{ counter+1 }})
    </div>
    <div class="pastRecords">
      <h3>Last Few Records for Employee ID: {{ employees[0]?.employee?.employeeId }}</h3>
      <table class="employee-table">
        <thead>
          <tr>
            <th>Employee Id</th>
            <th>Name</th>
            <th>Date</th>
            <th>Checked-In</th>
            <th>Checked-Out</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let emp of employees">
            <td>{{ emp?.employee?.employeeId }}</td>
            <td>{{ emp?.employee?.name }}</td>
            <td>{{ emp?.date }}</td>
            <td>{{ emp?.checkIn }}</td>
            <td>{{ emp?.checkOut }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div *ngIf="employees.length === 0">
    <p>No attendance records found for Employee ID: {{ newAttendance.employeeId }}</p>
  </div>
</div>


